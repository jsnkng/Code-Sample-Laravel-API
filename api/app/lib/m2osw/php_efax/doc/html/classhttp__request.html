<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>PHP eFax: http_request Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">PHP eFax
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">http_request Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="http_request" -->
<p>Object to send one request.  
 <a href="classhttp__request.html#details">More...</a></p>

<p><a href="classhttp__request-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__request.html#a41cd660bc17e213458f317eac2374719">http_request</a> ($url)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the HTTP request object.  <a href="#a41cd660bc17e213458f317eac2374719"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__request.html#aabfc35e65505cce7becc8580518d3cb1">setOptions</a> ($options)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set options.  <a href="#aabfc35e65505cce7becc8580518d3cb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__request.html#a5da0842d133190c95ec3cf87bf3f08e9">addHeaders</a> ($headers)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add one or more headers to the object.  <a href="#a5da0842d133190c95ec3cf87bf3f08e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__request.html#a7cde20c22ef91ec37060361f1c6c327f">addPostFields</a> ($post_fields)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a set of fields to the request.  <a href="#a7cde20c22ef91ec37060361f1c6c327f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhttp__request.html#a1ed45e105bf8f0d81f544180fe7cf553">send</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the request to the server.  <a href="#a1ed45e105bf8f0d81f544180fe7cf553"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class can be used to send ONE request to an e-Fax server. The request may fail in which case an exception is raised. In most cases it is possible to retry to get it to work. The servers may not always respond because too many requests are received all at once and thus your server does not connect. This is normal behavior.</p>
<p>Note that one <a class="el" href="classhttp__request.html" title="Object to send one request.">http_request</a> object can be used to send at most ONE request. To send another request, create a new object or you are likely to get surprises.</p>
<p>The main function is the <a class="el" href="classhttp__request.html#a1ed45e105bf8f0d81f544180fe7cf553" title="Send the request to the server.">send()</a> function, but you should always call the <a class="el" href="classhttp__request.html#a7cde20c22ef91ec37060361f1c6c327f" title="Add a set of fields to the request.">addPostFields()</a> before sending anything. The options currently support the 'redirect' option. If not defined the default is 3. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5da0842d133190c95ec3cf87bf3f08e9"></a><!-- doxytag: member="http_request::addHeaders" ref="a5da0842d133190c95ec3cf87bf3f08e9" args="($headers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhttp__request.html#a5da0842d133190c95ec3cf87bf3f08e9">http_request::addHeaders</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is an empty stub. Headers are always forced in the <a class="el" href="classhttp__request.html#a1ed45e105bf8f0d81f544180fe7cf553" title="Send the request to the server.">send()</a> function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$headers</td><td>Ignored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7cde20c22ef91ec37060361f1c6c327f"></a><!-- doxytag: member="http_request::addPostFields" ref="a7cde20c22ef91ec37060361f1c6c327f" args="($post_fields)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhttp__request.html#a7cde20c22ef91ec37060361f1c6c327f">http_request::addPostFields</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>post_fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function saves fields in the request. Note that it is not currently possible to remove existing fields. This function is cumulative so multiple calls to it adds the new fields (although it will overwrite old fields if the new array includes the same name.)</p>
<p>Be careful as the name of fields is viewed as case sensitive at this level. So 'Id' and 'id' are two distinct fields.</p>
<div class="fragment"><pre class="fragment"> $request-&gt;addPostFields(array(<span class="stringliteral">&#39;id&#39;</span> =&gt; 1234));
 $request-&gt;addPostFields(array(<span class="stringliteral">&#39;username&#39;</span> =&gt; <span class="stringliteral">&#39;Charles&#39;</span>,
                               <span class="stringliteral">&#39;password&#39;</span> =&gt; <span class="stringliteral">&#39;Henri&#39;</span>));
</pre></div><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$post_fields</td><td>The fields to post in the <a class="el" href="classhttp__request.html#a1ed45e105bf8f0d81f544180fe7cf553" title="Send the request to the server.">send()</a> request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a41cd660bc17e213458f317eac2374719"></a><!-- doxytag: member="http_request::http_request" ref="a41cd660bc17e213458f317eac2374719" args="($url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhttp__request.html#a41cd660bc17e213458f317eac2374719">http_request::http_request</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This object is in replacement of the PEAR HttpRequest object that require a compiled library which has been discontinued.</p>
<p>To further initialize the class, call the <a class="el" href="classhttp__request.html#aabfc35e65505cce7becc8580518d3cb1" title="Set options.">setOptions()</a> and <a class="el" href="classhttp__request.html#a7cde20c22ef91ec37060361f1c6c327f" title="Add a set of fields to the request.">addPostFields()</a>. The <a class="el" href="classhttp__request.html#a5da0842d133190c95ec3cf87bf3f08e9" title="Add one or more headers to the object.">addHeaders()</a> function is a stub so it is not necessary to call it. Since SSL is enforced, only the number of redirects is taken in account from the options.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$url</td><td>The URL used to send the e-Fax request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ed45e105bf8f0d81f544180fe7cf553"></a><!-- doxytag: member="http_request::send" ref="a1ed45e105bf8f0d81f544180fe7cf553" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhttp__request.html#a1ed45e105bf8f0d81f544180fe7cf553">http_request::send</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function sends the request to the output server. The server was defined when creating the object (the constructor takes a $url).</p>
<p>The function returns an <a class="el" href="classhttp__response.html" title="The response of a succesfull request.">http_response</a> object if the request goes through without errors (reply with "HTTP/1.1 200 OK".) The function supports redirects so on 301 the server information is updated with the Location header and a new request sent. This is ALWAYS done with SSL.</p>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classhttp__request__exception.html" title="Exception used when detecting an invalid parameter.">http_request_exception</a></td><td>is raised whenever an invalid parameter is detected or we received an invalid reply.</td></tr>
    <tr><td class="paramname"><a class="el" href="classHttpInvalidParamException.html" title="Exception used in case of a timeout.">HttpInvalidParamException</a></td><td>is raised whenever the socket times out. This exception is used to be compatible with the PEAR HttpRequest class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An <a class="el" href="classhttp__response.html" title="The response of a succesfull request.">http_response</a> object </dd></dl>

</div>
</div>
<a class="anchor" id="aabfc35e65505cce7becc8580518d3cb1"></a><!-- doxytag: member="http_request::setOptions" ref="aabfc35e65505cce7becc8580518d3cb1" args="($options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhttp__request.html#aabfc35e65505cce7becc8580518d3cb1">http_request::setOptions</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function sets the options of the class. Note that each time you call this function all the options are reset by the new ones that you specify when calling.</p>
<p>The options are defined in an array with the index defined as the name of the option and the content as the value of the option. For example:</p>
<div class="fragment"><pre class="fragment"> $request-&gt;setOptions(array(<span class="stringliteral">&#39;redirect&#39;</span>, 3));
</pre></div><dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">$options</td><td>The options to save in this object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="http__request_8php.html">http_request.php</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 6 2013 02:45:25 for PHP eFax by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
